datasource db { provider = "postgresql" url = env("DATABASE_URL") }\n\ngenerator client { provider = "prisma-client-js" }\n\nmodel User {\n  id        String   @id @default(uuid())\n  email     String   @unique\n  name      String?\n  role      String   @default("user")\n  createdAt DateTime @default(now())\n  reviews   Review[]\n  comments  Comment[]\n}\n\nmodel Anime {\n  id        Int      @id @default(autoincrement())\n  title     String\n  synopsis  String?\n  coverUrl  String?\n  year      Int?\n  createdAt DateTime @default(now())\n  reviews   Review[]\n}\n\nmodel Review {\n  id        Int      @id @default(autoincrement())\n  animeId   Int\n  anime     Anime    @relation(fields: [animeId], references: [id])\n  userId    String\n  author    User     @relation(fields: [userId], references: [id])\n  rating    Int\n  title     String?\n  body      String?\n  createdAt DateTime @default(now())\n  comments  Comment[]\n}\n\nmodel Comment {\n  id        Int      @id @default(autoincrement())\n  reviewId  Int\n  review    Review   @relation(fields: [reviewId], references: [id])\n  userId    String\n  author    User     @relation(fields: [userId], references: [id])\n  parentId  Int?\n  body      String\n  createdAt DateTime @default(now())\n}\n\nmodel AffiliateClick {\n  id                Int      @id @default(autoincrement())\n  animeId           Int?\n  affiliateProvider String?\n  url               String?\n  ip                String?\n  userAgent         String?\n  createdAt         DateTime @default(now())\n\n  @@index([affiliateProvider])\n  @@index([createdAt])\n}